import{o as s,c as p,e as r,_ as y,N as u,bx as I,a$ as B,u as z,z as R,B as W,A as Y,b as m,w as N,am as L,a as v,F as $,f as k}from"./index.27eea95f.js";import{E as j}from"./el-progress.3684935f.js";import{_ as O}from"./index.cb2b3955.js";import"./error2.0bf5905b.js";import"./isNil.98bb3b88.js";import"./typescript2.b7eef2c1.js";import"./index2.9164842a.js";const X={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},M=r("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),S=r("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472l122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888l49.92 39.936l-215.808 269.824l-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072l-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),U=[M,S];function V(a,t){return s(),p("svg",X,U)}var C={name:"ep-picture",render:V};const F={__name:"index",props:{w:{type:Number,default:200},h:{type:Number,default:200},x:{type:Number,default:0},y:{type:Number,default:0}},setup(a){const t=a,d=u(null),c=u(null),n=u(""),l=u(t.w),o=u(t.h),{x:i,y:h,style:_}=I(d,{initialValue:{x:t.x,y:t.y}});B(c,b=>{const w=b[0],{width:f,height:x}=w.contentRect;f&&x&&(l.value=f,o.value=x),n.value=`width: ${f}, height: ${x}`});const e=z(()=>`width:${l.value-3}px;height:${o.value-3}px`),g=z(()=>`${_.value}${e.value}`);return(b,w)=>(s(),p("div",{style:W(Y(g)),class:"draggable-resizable-box"},[r("div",{ref_key:"dragger",ref:d,class:"dragger"},null,512),R(b.$slots,"default",{},void 0,!0),r("textarea",{ref_key:"resizer",ref:c,class:"resizer",disabled:""},null,512)],4))}};var H=y(F,[["__scopeId","data-v-0d88d262"]]);const E={components:{DraggableResizableBox:H},props:{src:{type:String,default:""},startX:{type:Number,default:0},startY:{type:Number,default:0},initialWidth:{type:Number,default:200},initialHeight:{type:Number,default:200}},data(){return{x:this.startX,y:this.startY,width:this.initialWidth,height:this.initialHeight}},methods:{onResize(a,t,d,c){this.x=a,this.y=t,this.width=d,this.height=c},onDrag(a,t){this.x=a,this.y=t},onDelete(){this.$emit("onDelete")},onImgLoad(a){console.log(a,"img data")}}},q={class:"my-photo"},A=["src"];function P(a,t,d,c,n,l){const o=H;return s(),m(o,{x:n.x,y:n.y,w:n.width,h:n.height},{default:N(()=>[r("div",q,[r("div",{class:"close-icon",title:"\u5220\u9664",onClick:t[0]||(t[0]=(...i)=>l.onDelete&&l.onDelete(...i))},"\xD7"),r("img",{class:"pic",src:d.src,onLoad:t[1]||(t[1]=(...i)=>l.onImgLoad&&l.onImgLoad(...i)),draggable:"false"},null,40,A)])]),_:1},8,["x","y","w","h"])}var D=y(E,[["render",P],["__scopeId","data-v-2b1bfc20"]]),G="/assets/photo-1.e11df314.jpg",J="/assets/photo-2.ebdbf832.jpg",K="/assets/photo-3.45cd3c2e.jpg";const Q={class:"photo-wall-container"},T={class:"btn-groups flex-box flex-h-center flex-v-center"},Z={class:"btn"},tt={key:0,class:"photo-list"},et={key:1,class:"photo-list"},it={__name:"index",setup(a){const t=L([]),d=L([{uid:1,src:G,initialWidth:577,initialHeight:346,startX:430,startY:330},{uid:2,src:J,initialWidth:426,initialHeight:258,startX:830,startY:68},{uid:3,src:K,initialWidth:403,initialHeight:231,startX:147,startY:88}]);function c(o,i){this.fileList=i}function n(o){let i=-1;this.fileList.length>0?(i=this.fileList.findIndex(h=>h.uid===o),this.fileList.splice(i,1)):(i=this.exampleList.findIndex(h=>h.uid===o),this.exampleList.splice(i,1))}function l(o){return URL.createObjectURL(o)}return(o,i)=>{const h=C,_=j;return s(),p("div",Q,[r("div",T,[v(_,{action:"#",multiple:"","auto-upload":!1,"on-change":c,"show-file-list":!1},{default:N(()=>[v(h,{class:"btn el-icon-picture-outline upload-btn",title:"\u6253\u5F00\u672C\u5730\u56FE\u7247"})]),_:1}),r("div",Z,[v(O)])]),t.length==0?(s(),p("div",tt,[(s(!0),p($,null,k(d,e=>(s(),m(D,{src:e.src,key:e.uid,"start-x":e.startX,"start-y":e.startY,"initial-width":e.initialWidth,"initial-height":e.initialHeight,onOnDelete:g=>n(e.uid)},null,8,["src","start-x","start-y","initial-width","initial-height","onOnDelete"]))),128))])):(s(),p("div",et,[(s(!0),p($,null,k(t,e=>(s(),m(D,{src:l(e.raw),key:e.uid,onOnDelete:g=>n(e.uid)},null,8,["src","onOnDelete"]))),128))]))])}}};var ct=y(it,[["__scopeId","data-v-7a425d1a"]]);export{ct as default};
