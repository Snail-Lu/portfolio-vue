import{D as v}from"./index-b_4R8An8.js";import{_}from"./index-BPsOo1ew.js";/* empty css                 */import{o as h,q as c,K as e,S as m,aG as d,U as X,r as D,c as f,w as I,N as y,O as V,Q as x,P as w,_ as B,a as S,A as k,W as M,X as U}from"./elementPlus-OXnB-esK.js";const L={name:"HotSpotItem",props:{areaInit:{type:Object,default:()=>{}},id:{type:Number,default:null}},data(){return{area:this.areaInit}},methods:{del(){this.$emit("del",this.id)},mouseDown(s){if(this.startX=s.clientX,this.startY=s.clientY,!document.onmousemove){const t=this.area.startX,i=this.area.startY;document.onmousemove=r=>{this.area.startX=t+r.clientX-this.startX,this.area.startY=i+r.clientY-this.startY}}},mouseUp(){document.onmousemove=null},shapeDown(s){if(this.start1X=s.clientX,this.start1Y=s.clientY,!document.onmousemove){const t=this.areaInit.width,i=this.areaInit.height;document.onmousemove=r=>{this.area.width=t+r.clientX-this.start1X,this.area.height=i+r.clientY-this.start1Y}}}}},N={class:"promptText"};function C(s,t,i,r,a,n){return h(),c("div",{class:"areaBox",style:X({width:i.areaInit.width+"px",height:i.areaInit.height+"px",left:i.areaInit.startX+"px",top:i.areaInit.startY+"px"}),onDblclick:t[3]||(t[3]=o=>s.editBoxShow=!0),onMousedown:t[4]||(t[4]=d(o=>n.mouseDown(o),["left","stop"])),onMouseup:t[5]||(t[5]=d(o=>n.mouseUp(o),["left","stop"]))},[e("span",N,"热区"+m(i.id+1),1),e("div",{class:"del",onClick:t[0]||(t[0]=d(o=>n.del(),["stop"]))},"×"),e("div",{class:"shape",onMousedown:t[1]||(t[1]=d(o=>n.shapeDown(o),["left","stop"])),onMouseup:t[2]||(t[2]=d(o=>n.mouseUp(o),["left","stop"]))},null,32)],36)}const F=_(L,[["render",C],["__scopeId","data-v-94be619f"]]),j={components:{Demo:v,HotSpotItem:F},data(){return{demoInfo:{title:"绘制热区",url:""},spotDataList:[],startX:0,startY:0,width:0,height:0,drawBoxVisible:!1}},methods:{mouseDown(s){this.drawBoxVisible=!0,this.startX=s.layerX,this.startY=s.layerY,document.onmousemove||(document.onmousemove=t=>{this.width=t.layerX-this.startX,this.height=t.layerY-this.startY})},mouseMove(s){this.drawBoxVisible&&(this.width=s.layerX-this.startX,this.height=s.layerY-this.startY)},mouseUp(s){document.onmousemove=null;const{drawBoxVisible:t,startX:i,startY:r,width:a,height:n}=this;if(t&&a>10&&n>10){const o={startX:i,startY:r,width:a,height:n,link:""};this.spotDataList.push(o)}this.drawBoxVisible=!1,this.startX=0,this.startY=0,this.width=0,this.height=0},delSpot(s){this.spotDataList.splice(s,1)}}},p=s=>(M("data-v-43eb84ac"),s=s(),U(),s),E={class:"hot-spot-list flex-box flex-wrap"},H={class:"info-header"},O={class:"info-content flex-box flex-v-center"},T=p(()=>e("div",{class:"label"},"起点坐标：",-1)),q={class:"info-content flex-box flex-v-center"},z=p(()=>e("div",{class:"label"},"热区宽/高：",-1)),A={class:"info-content flex-box flex-v-center"},G=p(()=>e("div",{class:"label"},"热区链接：",-1));function K(s,t,i,r,a,n){const o=D("hot-spot-item"),Y=k,b=v;return h(),f(b,{data:a.demoInfo},{default:I(()=>[e("div",{class:"img-box",onMouseup:t[1]||(t[1]=d(l=>n.mouseUp(l),["left","stop"]))},[e("img",{class:"img",src:"https://s1.ax1x.com/2022/08/15/vdFt5F.jpg",alt:"",onMousedown:t[0]||(t[0]=d(l=>n.mouseDown(l),["left","stop"]))},null,32),y(e("div",{class:"spot",style:X({width:a.width+"px",height:a.height+"px",left:a.startX+"px",top:a.startY+"px"})},null,4),[[V,a.drawBoxVisible]]),(h(!0),c(w,null,x(a.spotDataList,(l,u)=>(h(),f(o,{id:u,key:u,"area-init":l,onDel:n.delSpot},null,8,["id","area-init","onDel"]))),128))],32),e("div",E,[(h(!0),c(w,null,x(a.spotDataList,(l,u)=>(h(),c("div",{class:"hot-spot-item",key:u},[e("div",H,"热区"+m(u+1),1),e("div",O,[T,e("div",null,m(`(${l.startX},${l.startY})`),1)]),e("div",q,[z,B(" "+m(`${l.width}/${l.height}`),1)]),e("div",A,[G,S(Y,{modelValue:l.link,"onUpdate:modelValue":g=>l.link=g,class:"flex-item-1",placeholder:"请输入热区链接"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1},8,["data"])}const R=_(j,[["render",K],["__scopeId","data-v-43eb84ac"]]);export{R as default};
