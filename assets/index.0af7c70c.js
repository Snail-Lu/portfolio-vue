import{_ as v}from"./index.32bf6504.js";/* empty css                    */import{_ as I}from"./picture.c9995326.js";import{k,o as x,m as y,a as m,w as S,S as b,K as E,L as B,D as C}from"./elementPlus.b99cfd50.js";const L=s=>(E("data-v-fde69f1f"),s=s(),B(),s),R=L(()=>C("div",{class:"markImg"},null,-1)),W={__name:"index",setup(s){function _(o,n){u(o)}k([]);async function u(o,n="#markImg"){let r=await h(o);return new Promise(async(t,a)=>{try{let e=document.createElement("canvas"),f=r.naturalWidth/r.naturalHeight;e.width=750,e.height=e.width/f;let l=e.getContext("2d");l.drawImage(r,0,0,e.width,e.height);const g=document.querySelector(n).clientWidth;let c=e.width*.3/g,d=document.querySelector(n);d.style.transform=`scale(${c})`;const i=await p(d);l.drawImage(i,e.width-i.width-15*c,e.height-i.height-15*c,i.width,i.height),e.toBlob(w=>t(w))}catch(e){a(e)}})}function h(o){return new Promise((n,r)=>{let t=new FileReader;t.addEventListener("load",()=>{let a=new Image;a.src=t.result,a.addEventListener("load",()=>n(a))}),t.readAsDataURL(o)})}function p(o,n="rgba(0,0,0,.1)"){return new Promise(async(r,t)=>{try{const a=await html2canvas(o,{allowTaint:!1,useCORS:!0,backgroundColor:n});r(a)}catch(a){t(a)}})}return(o,n)=>{const r=I,t=b;return x(),y("div",null,[R,m(t,{action:"#",multiple:"","auto-upload":!1,"on-change":_,"show-file-list":!1},{default:S(()=>[m(r,{class:"btn el-icon-picture-outline upload-btn",title:"\u6253\u5F00\u672C\u5730\u56FE\u7247"})]),_:1})])}}},D=v(W,[["__scopeId","data-v-fde69f1f"]]);export{D as default};
