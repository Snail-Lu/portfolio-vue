import{D as g}from"./index.124386c5.js";import{_,o as p,c,e as o,t as u,U as d,B as b,r as Y,b as f,w as y,a2 as D,a3 as k,f as x,F as v,g as B,a as V,p as S,i as z}from"./index.92191706.js";import{E as M}from"./el-input.388f860b.js";import"./isNil.98bb3b88.js";import"./index2.93fff474.js";import"./typescript2.b7eef2c1.js";import"./event2.de93cf03.js";import"./index2.c1e9fd9f.js";import"./index2.47999242.js";import"./error2.0bf5905b.js";const U={name:"HotSpotItem",props:{areaInit:{type:Object,default:()=>{}},id:{type:Number,default:null}},data(){return{}},methods:{del(){this.$emit("del",this.id)},mouseDown(e){if(this.startX=e.clientX,this.startY=e.clientY,!document.onmousemove){const t=this.areaInit.startX,i=this.areaInit.startY;document.onmousemove=l=>{this.areaInit.startX=t+l.clientX-this.startX,this.areaInit.startY=i+l.clientY-this.startY}}},mouseUp(){document.onmousemove=null},shapeDown(e){if(this.start1X=e.clientX,this.start1Y=e.clientY,!document.onmousemove){const t=this.areaInit.width,i=this.areaInit.height;document.onmousemove=l=>{this.areaInit.width=t+l.clientX-this.start1X,this.areaInit.height=i+l.clientY-this.start1Y}}}}},L={class:"promptText"};function F(e,t,i,l,a,n){return p(),c("div",{class:"areaBox",style:b({width:i.areaInit.width+"px",height:i.areaInit.height+"px",left:i.areaInit.startX+"px",top:i.areaInit.startY+"px"}),onDblclick:t[3]||(t[3]=s=>e.editBoxShow=!0),onMousedown:t[4]||(t[4]=d(s=>n.mouseDown(s),["left","stop"])),onMouseup:t[5]||(t[5]=d(s=>n.mouseUp(s),["left","stop"]))},[o("span",L,"\u70ED\u533A"+u(i.id+1),1),o("div",{class:"del",onClick:t[0]||(t[0]=d(s=>n.del(),["stop"]))},"\xD7"),o("div",{class:"shape",onMousedown:t[1]||(t[1]=d(s=>n.shapeDown(s),["left","stop"])),onMouseup:t[2]||(t[2]=d(s=>n.mouseUp(s),["left","stop"]))},null,32)],36)}var N=_(U,[["render",F],["__scopeId","data-v-20dfd47e"]]);const j={components:{Demo:g,HotSpotItem:N},data(){return{demoInfo:{title:"\u7ED8\u5236\u70ED\u533A",url:""},spotDataList:[],startX:0,startY:0,width:0,height:0,drawBoxVisible:!1}},methods:{mouseDown(e){this.drawBoxVisible=!0,this.startX=e.layerX,this.startY=e.layerY,document.onmousemove||(document.onmousemove=t=>{this.width=t.layerX-this.startX,this.height=t.layerY-this.startY})},mouseMove(e){this.drawBoxVisible&&(this.width=e.layerX-this.startX,this.height=e.layerY-this.startY)},mouseUp(e){document.onmousemove=null;const{drawBoxVisible:t,startX:i,startY:l,width:a,height:n}=this;if(t&&a>10&&n>10){const s={startX:i,startY:l,width:a,height:n,link:""};this.spotDataList.push(s)}this.drawBoxVisible=!1,this.startX=0,this.startY=0,this.width=0,this.height=0},delSpot(e){this.spotDataList.splice(e,1)}}},m=e=>(S("data-v-f03ac524"),e=e(),z(),e),C={class:"hot-spot-list flex-box flex-wrap"},E={class:"info-header"},H={class:"info-content flex-box flex-v-center"},T=m(()=>o("div",{class:"label"},"\u8D77\u70B9\u5750\u6807\uFF1A",-1)),O={class:"info-content flex-box flex-v-center"},q=m(()=>o("div",{class:"label"},"\u70ED\u533A\u5BBD/\u9AD8\uFF1A",-1)),A={class:"info-content flex-box flex-v-center"},G=m(()=>o("div",{class:"label"},"\u70ED\u533A\u94FE\u63A5\uFF1A",-1));function J(e,t,i,l,a,n){const s=Y("hot-spot-item"),w=M,I=g;return p(),f(I,{data:a.demoInfo},{default:y(()=>[o("div",{class:"img-box",onMouseup:t[1]||(t[1]=d(r=>n.mouseUp(r),["left","stop"]))},[o("img",{class:"img",src:"https://s1.ax1x.com/2022/08/15/vdFt5F.jpg",alt:"",onMousedown:t[0]||(t[0]=d(r=>n.mouseDown(r),["left","stop"]))},null,32),D(o("div",{class:"spot",style:b({width:a.width+"px",height:a.height+"px",left:a.startX+"px",top:a.startY+"px"})},null,4),[[k,a.drawBoxVisible]]),(p(!0),c(v,null,x(a.spotDataList,(r,h)=>(p(),f(s,{id:h,key:h,"area-init":r,onDel:n.delSpot},null,8,["id","area-init","onDel"]))),128))],32),o("div",C,[(p(!0),c(v,null,x(a.spotDataList,(r,h)=>(p(),c("div",{class:"hot-spot-item",key:h},[o("div",E,"\u70ED\u533A"+u(h+1),1),o("div",H,[T,o("div",null,u(`(${r.startX},${r.startY})`),1)]),o("div",O,[q,B(" "+u(`${r.width}/${r.height}`),1)]),o("div",A,[G,V(w,{modelValue:r.link,"onUpdate:modelValue":X=>r.link=X,class:"flex-item-1",placeholder:"\u8BF7\u8F93\u5165\u70ED\u533A\u94FE\u63A5"},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1},8,["data"])}var st=_(j,[["render",J],["__scopeId","data-v-f03ac524"]]);export{st as default};
