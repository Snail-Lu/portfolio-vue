"use strict";(self["webpackChunkprotfolio_vue"]=self["webpackChunkprotfolio_vue"]||[]).push([[891],{3957:function(t,e,s){s.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"demo-wrapper"},[s("div",{staticClass:"header flex-box flex-v-center"},[s("div",{staticClass:"flex-item-1 title"},[t._v(t._s(t.data.title))]),t.data.url?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"查看文章",placement:"top-start"}},[s("el-link",{staticClass:"article-link",attrs:{underline:!1,icon:"el-icon-view",href:t.data.url}})],1):t._e()],1),t._t("default")],2)},o=[],a={props:{data:Object}},n=a,l=s(1001),r=(0,l.Z)(n,i,o,!1,null,"bcbb0000",null),u=r.exports},1891:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("demo",{attrs:{data:t.demoInfo}},[s("div",{staticClass:"img-box",on:{mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.mouseUp(e))}}},[s("img",{staticClass:"img",attrs:{src:"https://fastly.jsdelivr.net/gh/Snail-Lu/imageGalleries/gh-pages/2021-12/hotspot-example.webp",alt:""},on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.mouseDown(e))}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.drawBoxVisible,expression:"drawBoxVisible"}],staticClass:"spot",style:{width:t.width+"px",height:t.height+"px",left:t.startX+"px",top:t.startY+"px"}}),t._l(t.spotDataList,(function(e,i){return s("hot-spot-item",{key:i,attrs:{id:i,"area-init":e},on:{del:t.delSpot}})}))],2),s("div",{staticClass:"hot-spot-list flex-box flex-wrap"},t._l(t.spotDataList,(function(e,i){return s("div",{key:i,staticClass:"hot-spot-item"},[s("div",{staticClass:"info-header"},[t._v("热区"+t._s(i+1))]),s("div",{staticClass:"info-content flex-box flex-v-center"},[s("div",{staticClass:"label"},[t._v("起点坐标：")]),s("div",[t._v(t._s("("+e.startX+","+e.startY+")"))])]),s("div",{staticClass:"info-content flex-box flex-v-center"},[s("div",{staticClass:"label"},[t._v("热区宽/高：")]),t._v(" "+t._s(e.width+"/"+e.height)+" ")]),s("div",{staticClass:"info-content flex-box flex-v-center"},[s("div",{staticClass:"label"},[t._v("热区链接：")]),s("el-input",{staticClass:"flex-item-1",attrs:{placeholder:"请输入热区链接"},model:{value:e.link,callback:function(s){t.$set(e,"link",s)},expression:"item.link"}})],1)])})),0)])},o=[],a=s(3957),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"areaBox",style:{width:t.areaInit.width+"px",height:t.areaInit.height+"px",left:t.areaInit.startX+"px",top:t.areaInit.startY+"px"},on:{dblclick:function(e){t.editBoxShow=!0},mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.mouseDown(e))},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.mouseUp(e))}}},[s("span",{staticClass:"promptText"},[t._v("热区"+t._s(t.id+1))]),s("div",{staticClass:"del",on:{click:function(e){return e.stopPropagation(),t.del()}}},[t._v("×")]),s("div",{staticClass:"shape",on:{mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.shapeDown(e))},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:(e.stopPropagation(),t.mouseUp(e))}}})])},l=[],r={name:"HotSpotItem",props:{areaInit:{type:Object,default:()=>{}},id:{type:Number,default:null}},data(){return{}},methods:{del(){this.$emit("del",this.id)},mouseDown(t){if(this.startX=t.clientX,this.startY=t.clientY,!document.onmousemove){const t=this.areaInit.startX,e=this.areaInit.startY;document.onmousemove=s=>{this.areaInit.startX=t+s.clientX-this.startX,this.areaInit.startY=e+s.clientY-this.startY}}},mouseUp(){document.onmousemove=null},shapeDown(t){if(this.start1X=t.clientX,this.start1Y=t.clientY,!document.onmousemove){const t=this.areaInit.width,e=this.areaInit.height;document.onmousemove=s=>{this.areaInit.width=t+s.clientX-this.start1X,this.areaInit.height=e+s.clientY-this.start1Y}}}}},u=r,h=s(1001),d=(0,h.Z)(u,n,l,!1,null,"2f925199",null),c=d.exports,p={components:{Demo:a.Z,HotSpotItem:c},data(){return{demoInfo:{title:"绘制热区",url:""},spotDataList:[],startX:0,startY:0,width:0,height:0,drawBoxVisible:!1}},methods:{mouseDown(t){this.drawBoxVisible=!0,this.startX=t.layerX,this.startY=t.layerY,document.onmousemove||(document.onmousemove=t=>{this.width=t.layerX-this.startX,this.height=t.layerY-this.startY})},mouseMove(t){this.drawBoxVisible&&(this.width=t.layerX-this.startX,this.height=t.layerY-this.startY)},mouseUp(t){document.onmousemove=null;const{drawBoxVisible:e,startX:s,startY:i,width:o,height:a}=this;if(e&&o>10&&a>10){const t={startX:s,startY:i,width:o,height:a,link:""};this.spotDataList.push(t)}this.drawBoxVisible=!1,this.startX=0,this.startY=0,this.width=0,this.height=0},delSpot(t){this.spotDataList.splice(t,1)}}},f=p,m=(0,h.Z)(f,i,o,!1,null,"7288130e",null),v=m.exports}}]);