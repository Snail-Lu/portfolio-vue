"use strict";(self["webpackChunkprotfolio_vue"]=self["webpackChunkprotfolio_vue"]||[]).push([[438],{3929:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"photo-wall-container"},[i("div",{staticClass:"btn-groups flex-box flex-h-center",class:{"btn-groups-screenfull":e.isScreenFull}},[i("el-upload",{attrs:{action:"#",multiple:"","auto-upload":!1,"on-change":e.onUploadFile,"show-file-list":!1}},[i("i",{staticClass:"btn el-icon-picture-outline upload-btn",attrs:{title:"打开本地图片"}})]),i("i",{staticClass:"btn el-icon-full-screen",attrs:{title:e.isScreenFull?"退出全屏":"全屏"},on:{click:e.handleFullScreen}})],1),0==e.fileList.length?i("div",{staticClass:"photo-list"},e._l(e.exampleList,(function(t){return i("photo",{key:t.uid,attrs:{src:t.src,"start-x":t.startX,"start-y":t.startY,"initial-width":t.initialWidth,"initial-height":t.initialHeight},on:{onDelete:function(i){return e.onDelete(t.uid)}}})})),1):i("div",{staticClass:"photo-list"},e._l(e.fileList,(function(t){return i("photo",{key:t.uid,attrs:{src:e._f("imgUrlFilter")(t.raw)},on:{onDelete:function(i){return e.onDelete(t.uid)}}})})),1)])},n=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("vue-draggable-resizable",{attrs:{x:e.x,y:e.y,w:e.width,h:e.height,parent:!0,"class-name":"my-photo"},on:{dragging:e.onDrag,resizing:e.onResize}},[i("div",{staticClass:"close-icon",attrs:{title:"删除"},on:{click:e.onDelete}},[e._v("×")]),i("img",{staticClass:"pic",attrs:{src:e.src},on:{load:e.onImgLoad}})])},r=[],a=i(764),c=i.n(a),u={components:{VueDraggableResizable:c()},props:{src:{type:String,default:""},startX:{type:Number,default:0},startY:{type:Number,default:0},initialWidth:{type:Number,default:200},initialHeight:{type:Number,default:200}},data(){return{x:this.startX,y:this.startY,width:this.initialWidth,height:this.initialHeight}},methods:{onResize(e,t,i,l){this.x=e,this.y=t,this.width=i,this.height=l},onDrag(e,t){this.x=e,this.y=t},onDelete(){this.$emit("onDelete")},onImgLoad(e){console.log(e,"img data")}}},o=u,h=i(1001),d=(0,h.Z)(o,s,r,!1,null,"6629bf02",null),g=d.exports,m=i.p+"static/img/photo-1.c7f027cd.jpg",p=i.p+"static/img/photo-2.90958839.jpg",f=i.p+"static/img/photo-3.2a767dfd.jpg",F=i(7187),b={mixins:[F.Z],components:{Photo:g},filters:{imgUrlFilter(e){return URL.createObjectURL(e)}},data(){return{fileList:[],exampleList:[{uid:1,src:m,initialWidth:577,initialHeight:346,startX:430,startY:400},{uid:2,src:p,initialWidth:426,initialHeight:258,startX:830,startY:106},{uid:3,src:f,initialWidth:486,initialHeight:290,startX:147,startY:78}]}},methods:{onUploadFile(e,t){this.fileList=t},onDelete(e){let t=-1;this.fileList.length>0?(t=this.fileList.findIndex((t=>t.uid===e)),this.fileList.splice(t,1)):(t=this.exampleList.findIndex((t=>t.uid===e)),this.exampleList.splice(t,1))}}},x=b,S=(0,h.Z)(x,l,n,!1,null,"b17015d2",null),v=S.exports},7187:function(e,t,i){var l=i(629);t["Z"]={computed:{...(0,l.rn)("settings",["isScreenFull"])},destoryed(){},methods:{...(0,l.nv)("settings",["changeSetting"]),handleFullScreen(){let e=document.documentElement;this.isScreenFull?(document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),this.changeSetting({key:"isScreenFull",value:!1}),window.removeEventListener("fullscreenchange",this.fullscreenchangeHandler)):(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.changeSetting({key:"isScreenFull",value:!0}),window.addEventListener("fullscreenchange",this.fullscreenchangeHandler))},fullscreenchangeHandler(){const e=document.fullscreenElement;e||this.changeSetting({key:"isScreenFull",value:!1})}}}}}]);